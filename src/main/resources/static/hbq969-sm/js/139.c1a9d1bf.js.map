{"version":3,"file":"js/139.c1a9d1bf.js","mappings":"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","sources":["webpack://static/./src/views/main/top.vue?c220","webpack://static/./src/views/main/top.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, unref as _unref, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-40769e5e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"common-layout\" }\nconst _hoisted_2 = { style: {\"display\":\"flex\",\"align-items\":\"center\"} }\nconst _hoisted_3 = { style: {\"margin-right\":\"10px\",\"margin-left\":\"0px\",\"padding\":\"0\",\"font-size\":\"0.6em\"} }\nconst _hoisted_4 = { style: {\"height\":\"calc(100% - 60px)\",\"width\":\"100%\"} }\n\nimport type Node from 'element-plus/es/components/tree/src/model/node'\nimport {HomeFilled, SwitchButton, Menu, Setting, User, UserFilled} from '@element-plus/icons-vue'\nimport {\n  defineAsyncComponent,\n  markRaw,\n  onMounted,\n  reactive,\n  ref,\n  resolveComponent,\n  defineComponent,\n  h,\n  nextTick\n} from 'vue';\nimport router from '@/router'\nimport axios from '@/network'\nimport {msg} from '@/utils/Utils'\nimport TimeComponent from '@/components/TimeComponent.vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'top',\n  setup(__props) {\n\nconst data = reactive({\n  currentPage: '主页',\n  user: {},\n  adminMenus: [],\n  menus: []\n})\n\nconst menuMap = reactive({})\nconst logout = () => {\n  axios({\n    url: '/system/logout',\n    method: 'post'\n  }).then((res: any) => {\n    if (res.data.state == 'OK') {\n      router.push({path: '/login'})\n    } else {\n      msg(res.data.errorMessage, 'warning')\n    }\n  }).catch((err: Error) => {\n    msg('请求异常', 'error')\n  })\n}\nonMounted(() => {\n  axios({\n    url: '/system/user',\n    method: 'get'\n  }).then((res: any) => {\n    if (res.data.state == 'OK') {\n\n      let user = res.data.body.user\n      data.user.userName = user.userName\n      data.user.isAdmin = user.admin\n      data.menus = user.menus\n      data.adminMenus = res.data.body.allMenus\n\n      if (data.adminMenus && data.adminMenus.length > 0) {\n        data.adminMenus.forEach(item => {\n          menuMap[item.url] = item.menuDesc\n          if (item.menus && item.menus.length > 0) {\n            item.menus.forEach(sItem => {\n              menuMap[sItem.url] = sItem.menuDesc\n            })\n          }\n        })\n      }\n    }\n  }).catch((err: Error) => {\n    msg('请求异常', 'error')\n  })\n})\n\nconst getIconComponent = (iconName: string) => {\n  return resolveComponent(iconName);\n};\n\n// 菜单收起状态\nconst isCollapse = ref(false);\n\n// 当前激活的菜单项\nconst activeMenu = ref('1');\n\n// 当前激活的 Tab 页\nconst activeTab = ref('');\n\n// Tab 页列表\nconst tabs = ref<{ name: string; label: string; component: any }[]>([]);\n\n// 切换菜单收起状态\nconst toggleCollapse = () => {\n  isCollapse.value = !isCollapse.value;\n};\n\n// 处理菜单项选择\nconst handleMenuSelect = (index: string) => {\n  let component;\n\n  if (index.startsWith('http:') || index.startsWith('https:')) {\n    // 如果是外部链接，直接在新标签页打开\n    window.open(index, '_blank');\n  } else {\n    activeMenu.value = index;\n    let menuName = menuMap[index];\n    data.currentPage = menuName;\n\n    // 检查是否已经存在该 Tab\n    const tab = tabs.value.find((tab) => tab.name === index);\n    if (!tab) {\n      if (index.startsWith('inner:')) {\n        // 处理内部 iframe\n        const iframeUrl = index.substring(6);\n        console.log('iframeUrl: ', iframeUrl);\n\n        component = defineComponent({\n          setup() {\n            const iframe = ref<HTMLIFrameElement | null>(null);\n            const isLoading = ref(true); // 加载状态\n\n            const onIframeLoad = () => {\n              if (iframe.value && iframe.value.contentWindow?.document.body) {\n                // 动态设置 iframe 的高度\n                const contentHeight = iframe.value.contentWindow.document.body.scrollHeight;\n                iframe.value.style.height = `${contentHeight}px`;\n                console.log('iframe 高度已调整:', contentHeight);\n\n                // 监听内容变化\n                const observer = new MutationObserver(() => {\n                  const newHeight = iframe.value.contentWindow.document.body.scrollHeight;\n                  iframe.value.style.height = `${newHeight}px`;\n                  console.log('iframe 高度动态调整:', newHeight);\n                });\n\n                observer.observe(iframe.value.contentWindow.document.body, {\n                  childList: true,\n                  subtree: true,\n                });\n\n                // 关闭加载状态\n                isLoading.value = false;\n              }\n            };\n\n            return {iframeUrl, onIframeLoad, iframe, isLoading};\n          },\n          render() {\n            return h('div', {style: {width: '100%', height: '100%', position: 'relative'}}, [\n              // 加载动画\n              this.isLoading\n                  ? h('div', {\n                    style: {\n                      position: 'absolute',\n                      top: '50%',\n                      left: '50%',\n                      transform: 'translate(-50%, -50%)'\n                    }\n                  }, '加载中...')\n                  : null,\n              // iframe\n              h('iframe', {\n                src: this.iframeUrl,\n                style: {width: '100%', height: '100%', border: 'none'},\n                onLoad: this.onIframeLoad,\n                ref: 'iframe',\n              }),\n            ]);\n          },\n        });\n      } else {\n        // 处理内部 Vue 组件\n        component = defineAsyncComponent(() =>\n            import(`@/views${index}.vue`)\n                .then((module) => {\n                  console.log('组件加载成功:', module.default);\n                  return module;\n                })\n                .catch((err) => {\n                  console.error('组件加载失败:', err);\n                  throw err;\n                })\n        );\n      }\n\n      // 将组件添加到 tabs\n      tabs.value.push({\n        name: index,\n        label: menuName,\n        component: markRaw(component),\n      });\n    }\n\n    // 激活当前 Tab\n    activeTab.value = index;\n  }\n};\n\n// 移除 Tab 页\nconst removeTab = (tabName: string) => {\n  const index = tabs.value.findIndex((tab) => tab.name === tabName);\n  tabs.value.splice(index, 1);\n  if (tabName === activeTab.value) {\n    activeTab.value = tabs.value[0]?.name || '';\n  }\n};\n\nconst refreshPage = () => {\n  window.location.reload();\n};\n\n// 防抖函数\nconst debounce = (callback: (...args: any[]) => void, delay: number) => {\n  let tid: any;\n  return function (...args: any[]) {\n    const ctx = self;\n    tid && clearTimeout(tid);\n    tid = setTimeout(() => {\n      callback.apply(ctx, args);\n    }, delay);\n  };\n};\n\n// 重写 ResizeObserver\nconst _ = (window as any).ResizeObserver;\n(window as any).ResizeObserver = class ResizeObserver extends _ {\n  constructor(callback: (...args: any[]) => void) {\n    callback = debounce(callback, 20);\n    super(callback);\n  }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\")!\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\")!\n  const _component_el_menu = _resolveComponent(\"el-menu\")!\n  const _component_el_header = _resolveComponent(\"el-header\")!\n  const _component_el_tab_pane = _resolveComponent(\"el-tab-pane\")!\n  const _component_el_tabs = _resolveComponent(\"el-tabs\")!\n  const _component_el_container = _resolveComponent(\"el-container\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_container, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_header, { class: \"header\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_menu, {\n              class: \"el-menu-demo\",\n              \"default-active\": activeMenu.value,\n              collapse: isCollapse.value,\n              onSelect: handleMenuSelect,\n              mode: \"horizontal\",\n              ellipsis: false,\n              \"popper-effect\": \"dark\",\n              style: {\"overflow-x\":\"auto\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_menu_item, { onClick: refreshPage }, {\n                  title: _withCtx(() => [\n                    _createTextVNode(\"主页\")\n                  ]),\n                  default: _withCtx(() => [\n                    _createVNode(_component_el_icon, { size: \"20\" }, {\n                      default: _withCtx(() => [\n                        (_openBlock(), _createBlock(_resolveDynamicComponent(getIconComponent('HomeIcon'))))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                (data.user.isAdmin)\n                  ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(data.adminMenus, (menu) => {\n                      return (_openBlock(), _createElementBlock(_Fragment, null, [\n                        (menu.menus && menu.menus.length > 0)\n                          ? (_openBlock(), _createBlock(_component_el_sub_menu, {\n                              key: 0,\n                              index: menu.url\n                            }, {\n                              title: _withCtx(() => [\n                                _createVNode(_component_el_icon, null, {\n                                  default: _withCtx(() => [\n                                    (_openBlock(), _createBlock(_resolveDynamicComponent(getIconComponent(menu.iconName))))\n                                  ]),\n                                  _: 2\n                                }, 1024),\n                                _createElementVNode(\"span\", null, _toDisplayString(menu.menuDesc), 1)\n                              ]),\n                              default: _withCtx(() => [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(menu.menus, (subMenu) => {\n                                  return (_openBlock(), _createBlock(_component_el_menu_item, {\n                                    index: subMenu.url\n                                  }, {\n                                    title: _withCtx(() => [\n                                      _createTextVNode(_toDisplayString(subMenu.menuDesc), 1)\n                                    ]),\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_el_icon, null, {\n                                        default: _withCtx(() => [\n                                          (_openBlock(), _createBlock(_resolveDynamicComponent(getIconComponent(subMenu.iconName))))\n                                        ]),\n                                        _: 2\n                                      }, 1024)\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"index\"]))\n                                }), 256))\n                              ]),\n                              _: 2\n                            }, 1032, [\"index\"]))\n                          : (_openBlock(), _createBlock(_component_el_menu_item, {\n                              key: 1,\n                              index: menu.url\n                            }, {\n                              title: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(menu.menuDesc), 1)\n                              ]),\n                              default: _withCtx(() => [\n                                _createVNode(_component_el_icon, null, {\n                                  default: _withCtx(() => [\n                                    (_openBlock(), _createBlock(_resolveDynamicComponent(getIconComponent(menu.iconName))))\n                                  ]),\n                                  _: 2\n                                }, 1024)\n                              ]),\n                              _: 2\n                            }, 1032, [\"index\"]))\n                      ], 64))\n                    }), 256))\n                  : (_openBlock(true), _createElementBlock(_Fragment, { key: 1 }, _renderList(data.menus, (menu) => {\n                      return (_openBlock(), _createElementBlock(_Fragment, null, [\n                        (menu.menus && menu.menus.length > 0)\n                          ? (_openBlock(), _createBlock(_component_el_sub_menu, {\n                              key: 0,\n                              index: menu.url\n                            }, {\n                              title: _withCtx(() => [\n                                _createVNode(_component_el_icon, null, {\n                                  default: _withCtx(() => [\n                                    (_openBlock(), _createBlock(_resolveDynamicComponent(getIconComponent(menu.iconName))))\n                                  ]),\n                                  _: 2\n                                }, 1024),\n                                _createElementVNode(\"span\", null, _toDisplayString(menu.menuDesc), 1)\n                              ]),\n                              default: _withCtx(() => [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(menu.menus, (subMenu) => {\n                                  return (_openBlock(), _createBlock(_component_el_menu_item, {\n                                    index: subMenu.url\n                                  }, {\n                                    title: _withCtx(() => [\n                                      _createTextVNode(_toDisplayString(subMenu.menuDesc), 1)\n                                    ]),\n                                    default: _withCtx(() => [\n                                      _createVNode(_component_el_icon, null, {\n                                        default: _withCtx(() => [\n                                          (_openBlock(), _createBlock(_resolveDynamicComponent(getIconComponent(subMenu.iconName))))\n                                        ]),\n                                        _: 2\n                                      }, 1024)\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"index\"]))\n                                }), 256))\n                              ]),\n                              _: 2\n                            }, 1032, [\"index\"]))\n                          : (_openBlock(), _createBlock(_component_el_menu_item, {\n                              key: 1,\n                              index: menu.url\n                            }, {\n                              title: _withCtx(() => [\n                                _createTextVNode(_toDisplayString(menu.menuDesc), 1)\n                              ]),\n                              default: _withCtx(() => [\n                                _createVNode(_component_el_icon, null, {\n                                  default: _withCtx(() => [\n                                    (_openBlock(), _createBlock(_resolveDynamicComponent(getIconComponent(menu.iconName))))\n                                  ]),\n                                  _: 2\n                                }, 1024)\n                              ]),\n                              _: 2\n                            }, 1032, [\"index\"]))\n                      ], 64))\n                    }), 256))\n              ]),\n              _: 1\n            }, 8, [\"default-active\", \"collapse\"]),\n            _createElementVNode(\"div\", _hoisted_2, [\n              _createVNode(TimeComponent),\n              _createElementVNode(\"span\", _hoisted_3, \", \" + _toDisplayString(data.user.userName), 1),\n              _createVNode(_component_el_icon, {\n                onClick: logout,\n                style: {\"cursor\":\"pointer\",\"color\":\"red\"},\n                size: \"20\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_unref(SwitchButton))\n                ]),\n                _: 1\n              })\n            ])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_container, { class: \"container\" }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_4, [\n              _createVNode(_component_el_tabs, {\n                modelValue: activeTab.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((activeTab).value = $event)),\n                type: \"card\",\n                closable: \"\",\n                onTabRemove: removeTab,\n                style: {\"height\":\"100%\"}\n              }, {\n                default: _withCtx(() => [\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(tabs.value, (tab) => {\n                    return (_openBlock(), _createBlock(_component_el_tab_pane, {\n                      key: tab.name,\n                      label: tab.label,\n                      name: tab.name,\n                      style: {\"height\":\"100%\",\"overflow-y\":\"auto\"}\n                    }, {\n                      default: _withCtx(() => [\n                        (_openBlock(), _createBlock(_resolveDynamicComponent(tab.component)))\n                      ]),\n                      _: 2\n                    }, 1032, [\"label\", \"name\"]))\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","import script from \"./top.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./top.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./top.vue?vue&type=style&index=0&id=40769e5e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40769e5e\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","style","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","data","reactive","currentPage","user","adminMenus","menus","menuMap","logout","axios","url","method","then","res","state","router","push","path","msg","errorMessage","catch","err","onMounted","body","userName","isAdmin","admin","allMenus","length","forEach","item","menuDesc","sItem","getIconComponent","iconName","resolveComponent","isCollapse","ref","activeMenu","activeTab","tabs","handleMenuSelect","index","component","startsWith","window","open","value","menuName","tab","find","name","iframeUrl","substring","console","log","defineComponent","iframe","isLoading","onIframeLoad","contentWindow","document","contentHeight","scrollHeight","height","observer","MutationObserver","newHeight","observe","childList","subtree","render","h","width","position","this","top","left","transform","src","border","onLoad","defineAsyncComponent","module","default","error","label","markRaw","removeTab","tabName","findIndex","splice","refreshPage","location","reload","debounce","callback","delay","tid","args","ctx","self","clearTimeout","setTimeout","apply","_","ResizeObserver","constructor","super","_ctx","_cache","_component_el_icon","_resolveComponent","_component_el_menu_item","_component_el_sub_menu","_component_el_menu","_component_el_header","_component_el_tab_pane","_component_el_tabs","_component_el_container","_openBlock","_createElementBlock","_createVNode","_withCtx","collapse","onSelect","mode","ellipsis","onClick","title","_createTextVNode","size","_createBlock","_resolveDynamicComponent","_Fragment","key","_renderList","menu","_createElementVNode","_toDisplayString","subMenu","TimeComponent","_unref","SwitchButton","modelValue","$event","type","closable","onTabRemove","__exports__"],"sourceRoot":""}