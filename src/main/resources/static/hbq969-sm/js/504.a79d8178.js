(self["webpackChunkstatic"]=self["webpackChunkstatic"]||[]).push([[504,139],{2321:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});n(7658);var l=n(3396),a=n(7139),o=n(4870);const s={class:"time-component"};var u=(0,l.aZ)({__name:"TimeComponent",props:{showYear:{type:Boolean,default:!0},showMonth:{type:Boolean,default:!0},showDay:{type:Boolean,default:!0},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0}},setup(e){const t=e,n=(0,o.iH)(new Date),u=()=>{n.value=new Date},i=(0,l.Fl)((()=>{const e=n.value,l=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),u=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0"),r=[],d=[];return t.showYear&&r.push(l),t.showMonth&&r.push(a),t.showDay&&r.push(o),t.showHour&&d.push(s),t.showMinute&&d.push(u),t.showSecond&&d.push(i),r.join("-")+(d.length>0?" "+d.join(":"):"")}));return(0,l.bv)((()=>{u();const e=setInterval(u,1e3);(0,l.Ah)((()=>{clearInterval(e)}))})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",s," 当前时间: "+(0,a.zw)(i.value),1))}}),i=n(89);const r=(0,i.Z)(u,[["__scopeId","data-v-1ce3f376"]]);var d=r},3139:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});n(7658);var l=n(3396),a=n(7139),o=n(4870),s=n(2748),u=n(3824),i=n(1728),r=n(4834),d=n(2321);const m={class:"common-layout"},c={style:{display:"flex","align-items":"center"}},w={style:{"margin-right":"10px","margin-left":"0px",padding:"0","font-size":"0.6em"}},h={style:{height:"calc(100% - 60px)",width:"100%"}};var p=(0,l.aZ)({__name:"top",setup(e){const t=(0,o.qj)({currentPage:"主页",user:{},adminMenus:[],menus:[]}),p=(0,o.qj)({}),f=()=>{(0,i.Z)({url:"/system/logout",method:"post"}).then((e=>{"OK"==e.data.state?u.Z.push({path:"/login"}):(0,r.WI)(e.data.errorMessage,"warning")})).catch((e=>{(0,r.WI)("请求异常","error")}))};(0,l.bv)((()=>{(0,i.Z)({url:"/system/user",method:"get"}).then((e=>{if("OK"==e.data.state){let n=e.data.body.user;t.user.userName=n.userName,t.user.isAdmin=n.admin,t.menus=n.menus,t.adminMenus=e.data.body.allMenus,t.adminMenus&&t.adminMenus.length>0&&t.adminMenus.forEach((e=>{p[e.url]=e.menuDesc,e.menus&&e.menus.length>0&&e.menus.forEach((e=>{p[e.url]=e.menuDesc}))}))}})).catch((e=>{(0,r.WI)("请求异常","error")}))}));const v=e=>(0,l.up)(e),g=(0,o.iH)(!1),y=(0,o.iH)("1"),_=(0,o.iH)(""),b=(0,o.iH)([]),W=e=>{let a;if(e.startsWith("http:")||e.startsWith("https:"))window.open(e,"_blank");else{y.value=e;let s=p[e];t.currentPage=s;const u=b.value.find((t=>t.name===e));if(!u){if(e.startsWith("inner:")){const t=e.substring(6);console.log("iframeUrl: ",t),a=(0,l.aZ)({setup(){const e=(0,o.iH)(null),n=(0,o.iH)(!0),l=()=>{if(e.value&&e.value.contentWindow?.document.body){const t=e.value.contentWindow.document.body.scrollHeight;e.value.style.height=`${t}px`,console.log("iframe 高度已调整:",t);const l=new MutationObserver((()=>{const t=e.value.contentWindow.document.body.scrollHeight;e.value.style.height=`${t}px`,console.log("iframe 高度动态调整:",t)}));l.observe(e.value.contentWindow.document.body,{childList:!0,subtree:!0}),n.value=!1}};return{iframeUrl:t,onIframeLoad:l,iframe:e,isLoading:n}},render(){return(0,l.h)("div",{style:{width:"100%",height:"100%",position:"relative"}},[this.isLoading?(0,l.h)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"加载中..."):null,(0,l.h)("iframe",{src:this.iframeUrl,style:{width:"100%",height:"100%",border:"none"},onLoad:this.onIframeLoad,ref:"iframe"})])}})}else a=(0,l.RC)((()=>n(1480)(`./views${e}.vue`).then((e=>(console.log("组件加载成功:",e.default),e))).catch((e=>{throw console.error("组件加载失败:",e),e}))));b.value.push({name:e,label:s,component:(0,o.Xl)(a)})}_.value=e}},D=e=>{const t=b.value.findIndex((t=>t.name===e));b.value.splice(t,1),e===_.value&&(_.value=b.value[0]?.name||"")},L=()=>{window.location.reload()},k=(e,t)=>{let n;return function(...l){const a=self;n&&clearTimeout(n),n=setTimeout((()=>{e.apply(a,l)}),t)}},x=window.ResizeObserver;return window.ResizeObserver=class extends x{constructor(e){e=k(e,20),super(e)}},(e,n)=>{const u=(0,l.up)("el-icon"),i=(0,l.up)("el-menu-item"),r=(0,l.up)("el-sub-menu"),p=(0,l.up)("el-menu"),k=(0,l.up)("el-header"),x=(0,l.up)("el-tab-pane"),j=(0,l.up)("el-tabs"),H=(0,l.up)("el-container");return(0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(H,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"header"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"el-menu-demo","default-active":y.value,collapse:g.value,onSelect:W,mode:"horizontal",ellipsis:!1,"popper-effect":"dark",style:{"overflow-x":"auto"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{onClick:L},{title:(0,l.w5)((()=>[(0,l.Uk)("主页")])),default:(0,l.w5)((()=>[(0,l.Wm)(u,{size:"20"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(v("HomeIcon"))))])),_:1})])),_:1}),t.user.isAdmin?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(t.adminMenus,(e=>((0,l.wg)(),(0,l.iD)(l.HY,null,[e.menus&&e.menus.length>0?((0,l.wg)(),(0,l.j4)(r,{key:0,index:e.url},{title:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(v(e.iconName))))])),_:2},1024),(0,l._)("span",null,(0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.menus,(e=>((0,l.wg)(),(0,l.j4)(i,{index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(v(e.iconName))))])),_:2},1024)])),_:2},1032,["index"])))),256))])),_:2},1032,["index"])):((0,l.wg)(),(0,l.j4)(i,{key:1,index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(v(e.iconName))))])),_:2},1024)])),_:2},1032,["index"]))],64)))),256)):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(t.menus,(e=>((0,l.wg)(),(0,l.iD)(l.HY,null,[e.menus&&e.menus.length>0?((0,l.wg)(),(0,l.j4)(r,{key:0,index:e.url},{title:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(v(e.iconName))))])),_:2},1024),(0,l._)("span",null,(0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.menus,(e=>((0,l.wg)(),(0,l.j4)(i,{index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(v(e.iconName))))])),_:2},1024)])),_:2},1032,["index"])))),256))])),_:2},1032,["index"])):((0,l.wg)(),(0,l.j4)(i,{key:1,index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(v(e.iconName))))])),_:2},1024)])),_:2},1032,["index"]))],64)))),256))])),_:1},8,["default-active","collapse"]),(0,l._)("div",c,[(0,l.Wm)(d.Z),(0,l._)("span",w,", "+(0,a.zw)(t.user.userName),1),(0,l.Wm)(u,{onClick:f,style:{cursor:"pointer",color:"red"},size:"20"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,o.SU)(s.U3h))])),_:1})])])),_:1}),(0,l.Wm)(H,{class:"container"},{default:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l.Wm)(j,{modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=e=>_.value=e),type:"card",closable:"",onTabRemove:D,style:{height:"100%"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(b.value,(e=>((0,l.wg)(),(0,l.j4)(x,{key:e.name,label:e.label,name:e.name,style:{height:"100%","overflow-y":"auto"}},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.component)))])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])])),_:1})])),_:1})])}}}),f=n(89);const v=(0,f.Z)(p,[["__scopeId","data-v-40769e5e"]]);var g=v},1480:function(e,t,n){var l={"./views/login/login.vue":[9727,727,89],"./views/main/left.vue":[8036,36],"./views/main/top.vue":[3139,139],"./views/sm/main.vue":[2991,991],"./views/system/Menu.vue":[9442,442],"./views/system/Role.vue":[323,323],"./views/system/User.vue":[2913,913]};function a(e){if(!n.o(l,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=l[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(l)},a.id=1480,e.exports=a}}]);
//# sourceMappingURL=504.a79d8178.js.map