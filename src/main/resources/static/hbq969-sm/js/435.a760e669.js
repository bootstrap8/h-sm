(self["webpackChunkstatic"]=self["webpackChunkstatic"]||[]).push([[435,36],{2321:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});n(7658);var l=n(3396),a=n(7139),s=n(4870);const u={class:"time-component"};var o=(0,l.aZ)({__name:"TimeComponent",props:{showYear:{type:Boolean,default:!0},showMonth:{type:Boolean,default:!0},showDay:{type:Boolean,default:!0},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0}},setup(e){const t=e,n=(0,s.iH)(new Date),o=()=>{n.value=new Date},i=(0,l.Fl)((()=>{const e=n.value,l=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),u=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0"),r=[],d=[];return t.showYear&&r.push(l),t.showMonth&&r.push(a),t.showDay&&r.push(s),t.showHour&&d.push(u),t.showMinute&&d.push(o),t.showSecond&&d.push(i),r.join("-")+(d.length>0?" "+d.join(":"):"")}));return(0,l.bv)((()=>{o();const e=setInterval(o,1e3);(0,l.Ah)((()=>{clearInterval(e)}))})),(e,t)=>((0,l.wg)(),(0,l.iD)("div",u," 当前时间: "+(0,a.zw)(i.value),1))}}),i=n(89);const r=(0,i.Z)(o,[["__scopeId","data-v-1ce3f376"]]);var d=r},8036:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});n(7658);var l=n(3396),a=n(7139),s=n(4870),u=n(2748),o=n(1728),i=n(4834),r=n(3824),d=n(2321);const c=e=>((0,l.dD)("data-v-29e91699"),e=e(),(0,l.Cn)(),e),m={class:"container"},w={style:{display:"flex"}},h=c((()=>(0,l._)("span",{style:{"font-size":"1.2em","margin-left":"10px"}},"H-SM",-1))),p={style:{display:"flex","align-items":"center"}},f={style:{"margin-right":"10px","margin-left":"0px",padding:"0","font-size":"0.6em"}},v={class:"menu-header"},g={style:{width:"100%"}},y={style:{height:"39px",display:"flex","align-items":"center","justify-content":"space-between",padding:"0 20px","background-color":"#fff","border-bottom":"1px solid #e4e7ed"}},_={style:{height:"calc(100vh - 100px)"}};var b=(0,l.aZ)({__name:"left",setup(e){const t=(0,s.qj)({currentPage:"主页",user:{},adminMenus:[],menus:[]}),c=(0,s.qj)({}),b=()=>{(0,o.Z)({url:"/system/logout",method:"post"}).then((e=>{"OK"==e.data.state?r.Z.push({path:"/login"}):(0,i.WI)(e.data.errorMessage,"warning")})).catch((e=>{(0,i.WI)("请求异常","error")}))};(0,l.bv)((()=>{(0,o.Z)({url:"/system/user",method:"get"}).then((e=>{if("OK"==e.data.state){let n=e.data.body.user;t.user.userName=n.userName,t.user.isAdmin=n.admin,t.menus=n.menus,t.adminMenus=e.data.body.allMenus,t.adminMenus&&t.adminMenus.length>0&&t.adminMenus.forEach((e=>{c[e.url]=e.menuDesc,e.menus&&e.menus.length>0&&e.menus.forEach((e=>{c[e.url]=e.menuDesc}))}))}})).catch((e=>{(0,i.WI)("请求异常","error")}))}));const x=e=>(0,l.up)(e),W=(0,s.iH)(!1),k=(0,s.iH)("1"),D=(0,s.iH)(""),L=(0,s.iH)([]),j=()=>{W.value=!W.value},H=e=>{let a;if(e.startsWith("http:")||e.startsWith("https:"))window.open(e,"_blank");else{k.value=e;let u=c[e];t.currentPage=u;const o=L.value.find((t=>t.name===e));if(!o){if(e.startsWith("inner:")){const t=e.substring(6);console.log("iframeUrl: ",t),a=(0,l.aZ)({setup(){const e=(0,s.iH)(null),n=(0,s.iH)(!0),l=()=>{if(e.value&&e.value.contentWindow?.document.body){const t=e.value.contentWindow.document.body.scrollHeight;e.value.style.height=`${t}px`,console.log("iframe 高度已调整:",t);const l=new MutationObserver((()=>{const t=e.value.contentWindow.document.body.scrollHeight;e.value.style.height=`${t}px`,console.log("iframe 高度动态调整:",t)}));l.observe(e.value.contentWindow.document.body,{childList:!0,subtree:!0}),n.value=!1}};return{iframeUrl:t,onIframeLoad:l,iframe:e,isLoading:n}},render(){return(0,l.h)("div",{style:{width:"100%",height:"100%",position:"relative"}},[this.isLoading?(0,l.h)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},"加载中..."):null,(0,l.h)("iframe",{src:this.iframeUrl,style:{width:"100%",height:"100%",border:"none"},onLoad:this.onIframeLoad,ref:"iframe"})])}})}else a=(0,l.RC)((()=>n(1480)(`./views${e}.vue`).then((e=>(console.log("组件加载成功:",e.default),e))).catch((e=>{throw console.error("组件加载失败:",e),e}))));L.value.push({name:e,label:u,component:(0,s.Xl)(a)})}D.value=e}},M=e=>{const t=L.value.findIndex((t=>t.name===e));L.value.splice(t,1),e===D.value&&(D.value=L.value[0]?.name||"")},S=(e,t)=>{let n;return function(...l){const a=self;n&&clearTimeout(n),n=setTimeout((()=>{e.apply(a,l)}),t)}},U=window.ResizeObserver;return window.ResizeObserver=class extends U{constructor(e){e=S(e,20),super(e)}},(e,n)=>{const o=(0,l.up)("el-icon"),i=(0,l.up)("el-header"),r=(0,l.up)("el-menu-item"),c=(0,l.up)("el-sub-menu"),S=(0,l.up)("el-menu"),U=(0,l.up)("el-aside"),z=(0,l.up)("el-breadcrumb-item"),I=(0,l.up)("el-breadcrumb"),N=(0,l.up)("el-tab-pane"),Y=(0,l.up)("el-tabs"),Z=(0,l.up)("el-container");return(0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(Z,{style:{height:"100vh",overflow:"hidden","border-radius":"8px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"header"},{default:(0,l.w5)((()=>[(0,l._)("div",w,[(0,l.Wm)(o,{size:"24"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(x("HomeIcon"))))])),_:1}),h]),(0,l._)("div",p,[(0,l.Wm)(d.Z),(0,l._)("span",f,", "+(0,a.zw)(t.user.userName),1),(0,l.Wm)(o,{onClick:b,style:{cursor:"pointer",color:"red"},size:"20"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,s.SU)(u.U3h))])),_:1})])])),_:1}),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U,{width:W.value?"64px":"200px",style:{overflow:"hidden",transition:"width 0.3s ease","margin-top":"60px",height:"calc(100vh - 60px)"}},{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l.Wm)(o,{onClick:j,style:{cursor:"pointer",color:"#fff"}},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(W.value?(0,s.SU)(u.M0b):(0,s.SU)(u.qFw))))])),_:1})]),(0,l.Wm)(S,{"default-active":k.value,collapse:W.value,onSelect:H,mode:"vertical",ellipsis:!1,"popper-effect":"dark",style:{height:"calc(100vh - 100px)","overflow-y":"auto","overflow-x":"hidden"}},{default:(0,l.w5)((()=>[t.user.isAdmin?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(t.adminMenus,(e=>((0,l.wg)(),(0,l.iD)(l.HY,null,[e.menus&&e.menus.length>0?((0,l.wg)(),(0,l.j4)(c,{key:0,index:e.url},{title:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(x(e.iconName))))])),_:2},1024),(0,l._)("span",null,(0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.menus,(e=>((0,l.wg)(),(0,l.j4)(r,{index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(x(e.iconName))))])),_:2},1024)])),_:2},1032,["index"])))),256))])),_:2},1032,["index"])):((0,l.wg)(),(0,l.j4)(r,{key:1,index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(x(e.iconName))))])),_:2},1024)])),_:2},1032,["index"]))],64)))),256)):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(t.menus,(e=>((0,l.wg)(),(0,l.iD)(l.HY,null,[e.menus&&e.menus.length>0?((0,l.wg)(),(0,l.j4)(c,{key:0,index:e.url},{title:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(x(e.iconName))))])),_:2},1024),(0,l._)("span",null,(0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.menus,(e=>((0,l.wg)(),(0,l.j4)(r,{index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(x(e.iconName))))])),_:2},1024)])),_:2},1032,["index"])))),256))])),_:2},1032,["index"])):((0,l.wg)(),(0,l.j4)(r,{key:1,index:e.url},{title:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.menuDesc),1)])),default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(x(e.iconName))))])),_:2},1024)])),_:2},1032,["index"]))],64)))),256))])),_:1},8,["default-active","collapse"])])),_:1},8,["width"]),(0,l.Wm)(Z,{style:{height:"calc(100vh - 60px)",overflow:"hidden","background-color":"#f5f7fa","margin-top":"60px"}},{default:(0,l.w5)((()=>[(0,l._)("div",g,[(0,l._)("div",y,[(0,l.Wm)(I,{separator:"/"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l.Uk)("首页")])),_:1}),(0,l.Wm)(z,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(t.currentPage),1)])),_:1})])),_:1})]),(0,l._)("div",_,[(0,l.Wm)(Y,{modelValue:D.value,"onUpdate:modelValue":n[0]||(n[0]=e=>D.value=e),type:"card",closable:"",onTabRemove:M,style:{height:"100%"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(L.value,(e=>((0,l.wg)(),(0,l.j4)(N,{key:e.name,label:e.label,name:e.name,style:{height:"calc(100vh - 156px)","overflow-y":"auto"}},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(e.component)))])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])])])),_:1})])),_:1})])),_:1})])}}}),x=n(89);const W=(0,x.Z)(b,[["__scopeId","data-v-29e91699"]]);var k=W},1480:function(e,t,n){var l={"./views/login/login.vue":[9727,727,89],"./views/main/left.vue":[8036,36],"./views/main/top.vue":[3139,139],"./views/sm/main.vue":[2991,991],"./views/system/Menu.vue":[9442,442],"./views/system/Role.vue":[323,323],"./views/system/User.vue":[2913,913]};function a(e){if(!n.o(l,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=l[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(l)},a.id=1480,e.exports=a}}]);
//# sourceMappingURL=435.a760e669.js.map